# Defini√ß√£o do nome do fluxo de trabalho e emoji para represent√°-lo.
name: End-to-end tests üß™

# Configura√ß√£o do gatilho do fluxo de trabalho. Este fluxo ser√° executado em um push para o reposit√≥rio.
on: [push]

# Defini√ß√£o do in√≠cio do bloco de jobs (tarefas).
jobs:
  # Nome do job (tarefa) que executar√° os testes do Cypress.
  cypress-run:

    # Especifica√ß√£o da m√°quina virtual em que o job ser√° executado (Ubuntu 20.04).
    runs-on: ubuntu-20.04

    # Etapas que comp√µem o job.
    steps:

      # Step para realizar o checkout do c√≥digo fonte do reposit√≥rio.
      - name: Checkout
        uses: actions/checkout@v2

      # Step para armazenar em cache as depend√™ncias NPM instaladas anteriormente para reutiliza√ß√£o em execu√ß√µes futuras.
      - name: Cache dependencies
        uses: actions/cache@v2
        with:
          path: ~/.npm
          key: ${{ runner.os }}-npm-${{ hashFiles('**/package-lock.json') }}
          restore-keys: |
            ${{ runner.os }}-npm-

      # Step para instalar as depend√™ncias NPM necess√°rias para executar os testes do Cypress.
      - name: Install NPM dependencies
        run: npm install

      # Step para executar os testes do Cypress usando a a√ß√£o oficial do Cypress para GitHub Actions.
      - name: Run Cypress tests
        uses: cypress-io/github-action@v2
